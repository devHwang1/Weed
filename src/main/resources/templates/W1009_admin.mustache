{{>layouts/W1003_header}}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Tables - SB Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
    <link href="css/style.css" rel="stylesheet" />
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
</head>
<body class="sb-nav-fixed">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script src="js/scripts.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
<script src="js/datatables-simple-demo.js" type="text/javascript"></script>
<style>
    .datatable-dropdown {
        display: none;
    }
    .datatable-top {
        display: none;
    }
    .datatable-pagination a {
        color: #00c473;
    }
    #searchInput{
        display: block;
        width: 13%;
        margin-bottom: 13px;
        padding: 0.375rem 0.75rem;
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        color: #212529;
        background-color: #fff;
        background-clip: padding-box;
        border: 1px solid #ced4da;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        border-radius: 0.375rem;
        transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
</style>
<div id="layoutSidenav">

    <div id="layoutSidenav_content">
        <main>
            <div class="container-fluid px-4">
                <h1 class="mt-4">관리자 페이지</h1>
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item"><a href="index.html">권한</a></li>
                    <li class="breadcrumb-item active">ADMIN</li>
                </ol>
                <div class="card mb-4">
                    <div class="card-body">
                       관리자에게만 권한이 부여된 페이지입니다. 관리자가 아닐 시 로그아웃 해주시길 바랍니다.
                    </div>

                </div>
                <div class="card mb-4">
                    <div class="card-header" style="font-weight: bold;color: white; background-color: #00c473;">
                        <i class="fas fa-table me-1"></i>
                        회원 리스트
                    </div>
                    <div class="card-body">
                        <input type="text" id="searchInput" placeholder="검색...">
                        <table id="datatablesSimple">
                            <thead>
                            <tr>
                                <th>이름</th>
                                <th>부서</th>
                                <th>이메일</th>
                                <th>Age</th>
                                <th>입사날짜</th>
                                <th>권한 등급</th>
                            </tr>
                            </thead>
                            <tfoot>
                            <tr>
                                <th>Name</th>
                                <th>Position</th>
                                <th>Office</th>
                                <th>Age</th>
                                <th>Start date</th>
                                <th>Salary</th>
                            </tr>
                            </tfoot>
                            <tbody>
                            {{#members}}
                            <tr>
                                <td>{{name}}</td>
                                {{#dept}}
                                <td>{{dept.deptName}}</td>
                                {{/dept}}
                                <td>{{email}}</td>
                                <td>27</td>
                                <td>{{registrationTime}}</td>
                                <td>USER</td>
                            </tr>
                            {{/members}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
        <footer class="py-4 bg-light mt-auto">
            <div class="container-fluid px-4">
                <div class="d-flex align-items-center justify-content-between small">
                    <div class="text-muted">Copyright &copy; Weed 위드 2023</div>
<!--                    <div>-->
<!--                        <a href="#">Privacy Policy</a>-->
<!--                        &middot;-->
<!--                        <a href="#">Terms &amp; Conditions</a>-->
<!--                    </div>-->
                </div>
            </div>
        </footer>
    </div>
</div>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<script src="js/scripts.js"></script>
<script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
<script src="js/datatables-simple-demo.js"></script>
<script>
    // DOM이 로드된 후 실행
    document.addEventListener("DOMContentLoaded", function () {
        // Add a simple search functionality
        document.getElementById('searchInput').addEventListener('input', function () {
            const searchTerm = this.value.toLowerCase();
            const rows = document.querySelectorAll('#datatablesSimple tbody tr');

            rows.forEach(row => {
                const name = row.querySelector('td:nth-child(1)').textContent.toLowerCase();
                const dept = row.querySelector('td:nth-child(2)').textContent.toLowerCase(); // 추가: 부서 열
                const email = row.querySelector('td:nth-child(3)').textContent.toLowerCase(); // 추가: 이메일 열

                // 수정: 이름, 부서, 이메일 중 하나라도 검색어를 포함하면 표시
                if (name.includes(searchTerm) || dept.includes(searchTerm) || email.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        });
    });

</script>
</body>
</html>
